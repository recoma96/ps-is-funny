## 할로윈의 양아치

https://www.acmicpc.net/problem/20303


## 문제

$N$ 명의 아이들이 있다.

스브러스가 아이들의 사탕을 뺏으려고 한다.

아이들의 사탕을 뺏을 때, 그 아이의 친구들의 사탕도 전부 뺏는다.

아이들은 사탕을 뺏길 때 마다 운다.

$K$ 명 이상의 아이들이 울게 되면, 온 집의 어른들이 거리로 나온다.

어른들이 거리로 나오지 않게 스브러스가 최대로 뺏을 수 있는 사탕의 갯수를 구해라

## 제한

$1 \le N \le 30,000$

$0 \le M \le 100,000$

$1 \le K \le min (N, 3,000)$


## Difficulty
* 공식 난이도: Gold 3 (2023.06 기준)
* 체감 난이도: Gold 4


## 알고리즘
* 그래프 탐색 (or 분리 집합)
* 배낭 문제 원리 (+공간복잡도 최적화)


## 풀이

스브러스는 아이들의 사탕을 뺏을 때, 그 아이의 친구, 그 아이의 친구의 친구... 이런식으로 사탕을 빼앗는다. 따라서 그래프 탐색을 이용해서 한번에 뺏을 수 있는 아이들의 사탕 갯수의 합과, 사탕을 털린 아이들이 몇명인지를 구해서 배열에 집어넣는다. 예를 들어 아이들의 친구 관계가 1 - 2 - 3, 4 - 5 이고 각각 1개씩 가지고 있다면 배열에는 [(3, 3), (2, 3)] 이 된다. 그래프 탐색 말고도 분리 집합으로 풀 수는 있긴 한데 난이도가 다소 올라가게 된다.

그런 다음 배낭 문제 원리로 바로 풀 수 있는데, 털린 사탕 갯수의 합을 물건의 가치, 털린 아이들이 수를 물건의 무게로 비유하면 완전히 배낭문제와 일치하게 된다. 단, 주의할 점이 있는데 배낭문제를 풀기 위해 2차원 배열을 사용하면, 2차원 배열의 최대 크기가 3천만 까지 갈 수 있기 때문에 메모리 초과가 발생할 수 있다. 따라서 2차원 배열이 아닌 1차원 배열을 기반으로 배낭문제원리 기반의 알고리즘을 구현해야 한다.